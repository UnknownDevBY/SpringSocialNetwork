<!DOCTYPE html>
<html lang="en"
xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Настройки приватности</title>
    <link rel="stylesheet" th:href="@{/css/user.css}" href="../static/css/user.css">
</head>
<body>
<header>
    <p><a href="/"><em class="logo">Social network</em></a></p>
    <div th:if="${currentUser != null}" class="logout">
        <form action="/" method="get">
            <input type="submit" value="Выход">
        </form>
    </div>
</header>
<div class="menu">
    <ul>
        <li><a class="active" href="/search">Поиск</a></li>
    </ul>
    <ul th:if="${currentUser != null}">
        <li><a class="active" th:href="'/users/' + ${currentUser.id}" href="/">Моя страница</a></li>
        <li><a th:href="'/friends/' + ${currentUser.id}" href="/">Друзья</a></li>
        <li><a href="#contact">Группы</a></li>
        <li><a href="/messages">Сообщения</a></li>
        <li><a href="#about">Фотографии</a></li>
    </ul>
    <div>
        <form th:if="${currentUser == null}" action="/" method="post">
            <input style="display: none;" type="text" name="currentPage" th:value="'/user/' + ${pageUser.id}">
            <input type="text" id="login" name="login" placeholder="E-mail">
            <br>
            <input type="password" id="pass" name="pass" placeholder="Пароль">
            <br>
            <input type="submit" value="Войти">
        </form>
    </div>
</div>
<main>
    <form class="privacy-settings" action="/privacy-settings" method="post">
        <div class="privacy-option">
            <label for="fullInfo">Кто может писать мне сообщения?</label>
            <select name="messages" id="messages" required="required">
                <option value="a" th:selected="${curPrivSet == null || T(java.lang.Character).compare(curPrivSet.messages, 'a') == 0}">Все</option>
                <option value="f" th:selected="${T(java.lang.Character).compare(curPrivSet.messages, 'f') == 0}">Только друзья</option>
                <option value="m" th:selected="${T(java.lang.Character).compare(curPrivSet.messages, 'm') == 0}">Только я</option>
            </select>
        </div>
        <div class="privacy-option">
            <label for="fullInfo">Кто может просматривать информацию обо мне?</label>
            <select name="fullInfo" id="fullInfo" required="required">
                <option value="a" th:selected="${curPrivSet == null || T(java.lang.Character).compare(curPrivSet.fullInfo, 'a') == 0}">Все</option>
                <option value="f" th:selected="${T(java.lang.Character).compare(curPrivSet.fullInfo, 'f') == 0}">Только друзья</option>
                <option value="m" th:selected="${T(java.lang.Character).compare(curPrivSet.fullInfo, 'm') == 0}">Только я</option>
            </select>
        </div>
        <div class="privacy-option">
            <label for="photos">Кто может просматривать мои фото?</label>
            <select name="photos" id="photos" required="required">
                <option value="a" th:selected="${curPrivSet == null || T(java.lang.Character).compare(curPrivSet.photos, 'a') == 0}">Все</option>
                <option value="f" th:selected="${T(java.lang.Character).compare(curPrivSet.photos, 'f') == 0}">Только друзья</option>
                <option value="m" th:selected="${T(java.lang.Character).compare(curPrivSet.photos, 'm') == 0}">Только я</option>
            </select>
        </div>
        <div class="privacy-option">
            <label for="friends">Кто может просматривать моих друзей?</label>
            <select name="friends" id="friends" required="required">
                <option value="a" th:selected="${curPrivSet == null || T(java.lang.Character).compare(curPrivSet.photos, 'a') == 0}">Все</option>
                <option value="f" th:selected="${T(java.lang.Character).compare(curPrivSet.photos, 'f') == 0}">Только друзья</option>
                <option value="m" th:selected="${T(java.lang.Character).compare(curPrivSet.photos, 'm') == 0}">Только я</option>
            </select>
        </div>
        <div class="privacy-option">
            <label for="postAuthors">Кто может оставлять посты на моей странице?</label>
            <select name="postAuthors" id="postAuthors" required="required">
                <option value="a" th:selected="${curPrivSet == null || T(java.lang.Character).compare(curPrivSet.postAuthors, 'a') == 0}">Все</option>
                <option value="f" th:selected="${T(java.lang.Character).compare(curPrivSet.postAuthors, 'f') == 0}">Только друзья</option>
                <option value="m" th:selected="${T(java.lang.Character).compare(curPrivSet.postAuthors, 'm') == 0}">Только я</option>
            </select>
        </div>
        <div class="privacy-buttons">
            <input type="submit" value="Сохранить">
            <input type="reset" value="Сбросить">  
        </div>
    </form>
</main>
</body>
</html>